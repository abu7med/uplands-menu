(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{291:function(e,a,t){e.exports=t(524)},341:function(e,a){},355:function(e,a){},357:function(e,a){},524:function(e,a,t){"use strict";t.r(a);var n=t(0),i=t.n(n),r=t(11),l=t(46),o=t(13),c=function(e){var a=e.children;return i.a.createElement(i.a.Fragment,null,i.a.createElement("main",null,a))},s=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("h2",null,"Page not found"),i.a.createElement(l.b,{to:"/"},"Go home"))},m=t(115),u=t(116),d=t(127),g=t(126),p=t(44),h=(t(177),t(576)),E=t(606),b=t(574),f=t(168),v=t(57),x=[{url:"../../images/beers.jpg",title:"Beers",width:"50%"},{url:"../../images/food.jpg",title:"Food",width:"50%"},{url:"../../images/drinks.jpg",title:"Drinks",width:"50%"},{url:"../../images/ciders.jpg",title:"Ciders",width:"50%"},{url:"../../images/soda.jpg",title:"Sodas",width:"50%"},{url:"../../images/wine.jpg",title:"Wine",width:"50%"}],S=Object(b.a)((function(e){var a;return{root:{display:"flex",flexWrap:"wrap",minWidth:300,width:"100%"},image:(a={position:"relative",height:200},Object(p.a)(a,e.breakpoints.down("xs"),{width:"100% !important",height:100}),Object(p.a)(a,"&:hover, &$focusVisible",{zIndex:1,"& $imageBackdrop":{opacity:.15},"& $imageMarked":{opacity:0},"& $imageTitle":{border:"4px solid currentColor"}}),a),focusVisible:{},imageButton:{position:"absolute",left:0,right:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",color:e.palette.common.white},imageSrc:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundSize:"cover",backgroundPosition:"center 40%"},imageBackdrop:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:e.palette.common.black,opacity:.4,transition:e.transitions.create("opacity")},imageTitle:{position:"relative",padding:"".concat(e.spacing(2),"px ").concat(e.spacing(4),"px ").concat(e.spacing(1)+6,"px")},imageMarked:{height:3,width:18,backgroundColor:e.palette.common.white,position:"absolute",bottom:-2,left:"calc(50% - 9px)",transition:e.transitions.create("opacity")}}}));function w(){var e=S();return i.a.createElement("div",{className:e.root},x.map((function(a){return i.a.createElement(f.a,{focusRipple:!0,key:a.title,className:e.image,focusVisibleClassName:e.focusVisible,style:{width:a.width},href:"/"+a.title},i.a.createElement("span",{className:e.imageSrc,style:{backgroundImage:"url(".concat(a.url,")")}}),i.a.createElement("span",{className:e.imageBackdrop}),i.a.createElement("span",{className:e.imageButton},i.a.createElement(v.a,{component:"span",variant:"subtitle1",color:"inherit",className:e.imageTitle},a.title,i.a.createElement("span",{className:e.imageMarked}))))})))}var y=function(e){Object(d.a)(t,e);var a=Object(g.a)(t);function t(e){return Object(m.a)(this,t),a.call(this,e)}return Object(u.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return i.a.createElement(h.a,{maxWidth:"sm"},i.a.createElement(v.a,{variant:"h3",gutterBottom:!0},i.a.createElement(E.a,{textAlign:"center",letterSpacing:3},"menu")),i.a.createElement(E.a,{border:1,boxShadow:3},i.a.createElement(w,null)))}}]),t}(n.Component),k=t(12),j=t(578),C=t(579),O=t(178);function I(e){return i.a.createElement("div",null,i.a.createElement(C.a,{container:!0,spacing:1},i.a.createElement(C.a,{item:!0,xs:3},i.a.createElement("img",{src:e.properties.image,width:"100",height:"100"})),i.a.createElement(C.a,{item:!0,xs:9},"aaa")),i.a.createElement(j.a,null))}var P=t(38),N=t(605),U=t(255),B=t(3),T=t(602),W=t(615),L=t(603),R=t(593),D=t(591),_=t(583),M=t(594),A=(t(601),t(259)),F=t.n(A),H=t(260),J=t.n(H),z=t(580),V=t(581),q=t(582),G=t(165),Y=t.n(G),$=t(121),K=t.n($),X=t(72),Q=t.n(X),Z=t(122),ee=t.n(Z),ae=t(71),te=t.n(ae),ne=(z.a,V.a,te.a,q.a,z.a,V.a,K.a,q.a,z.a,V.a,Q.a,q.a,z.a,V.a,te.a,q.a,z.a,V.a,ee.a,q.a,z.a,V.a,Q.a,q.a,i.a.createElement("div",null,i.a.createElement(z.a,{button:!0},i.a.createElement(V.a,null,i.a.createElement(Y.a,null)),i.a.createElement(q.a,{primary:"Users"})))),ie=t(609),re=t(584),le=t(592),oe=t(587),ce=t(586),se=t(263),me=t(10),ue=t(596),de=t(597),ge=t(599),pe=t(595),he=t(600),Ee=t(611),be=t(598),fe=t(614),ve=t(610),xe=t(613),Se=t(257),we=t.n(Se),ye=t(258),ke=t.n(ye),je=t(178),Ce=t(317),Oe=t(523),Ie=Object(b.a)((function(e){return{root:{flexGrow:1,width:"100%"},button:{margin:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},mainItems:{marginTop:20,marginBottom:20}}})),Pe=[];function Ne(e,a){var t=new Image;t.onload=function(){a(!0)},t.onerror=function(){a(!1)},t.src=e}function Ue(){var e=i.a.useState(0),a=Object(k.a)(e,2),t=(a[0],a[1],i.a.useState("")),n=Object(k.a)(t,2),r=n[0],l=n[1],o=i.a.useState(""),c=Object(k.a)(o,2),s=c[0],m=c[1],u=i.a.useState(""),d=Object(k.a)(u,2),g=d[0],h=d[1],E=i.a.useState(""),b=Object(k.a)(E,2),f=b[0],x=b[1],S=i.a.useState(""),w=Object(k.a)(S,2),y=w[0],O=w[1],I=i.a.useState(""),P=Object(k.a)(I,2),N=P[0],U=P[1],T=i.a.useState(""),W=Object(k.a)(T,2),L=W[0],D=W[1],A=i.a.useState(""),F=Object(k.a)(A,2),H=F[0],J=F[1],z=i.a.useState(""),V=Object(k.a)(z,2),q=V[0],G=V[1],Y=i.a.useState(""),$=Object(k.a)(Y,2),K=$[0],X=$[1],Q=i.a.useState(!1),Z=Object(k.a)(Q,2),ee=Z[0],ae=Z[1],te=i.a.useState(!1),ne=Object(k.a)(te,2),me=ne[0],he=ne[1],fe=i.a.useState([].concat(Pe)),Se=Object(k.a)(fe,2),ye=Se[0],Ue=Se[1],Te=i.a.useState("asc"),Re=Object(k.a)(Te,2),De=Re[0],_e=Re[1],Me=i.a.useState("calories"),Ae=Object(k.a)(Me,2),Fe=Ae[0],He=Ae[1],Je=i.a.useState([]),ze=Object(k.a)(Je,2),Ve=ze[0],qe=ze[1],Ge=i.a.useState(0),Ye=Object(k.a)(Ge,2),$e=Ye[0],Ke=Ye[1],Xe=i.a.useState(10),Qe=Object(k.a)(Xe,2),Ze=Qe[0],ea=Qe[1],aa=Ie(),ta=Le(),na=function(){l(""),m(""),h(""),x(""),O(""),U(""),D(""),J(""),G(""),X(""),ae(!1),he(!1)},ia=Ze-Math.min(Ze,ye.length-$e*Ze);return i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement(_.a,{className:aa.mainItems,variant:"outlined",color:"primary",onClick:function(){he(!0)}},"Create new beer"),i.a.createElement(re.a,{open:me,onClose:na,"aria-labelledby":"form-dialog-title"},i.a.createElement(ce.a,{id:"form-dialog-title"},"New Beer"),i.a.createElement(oe.a,null,i.a.createElement("div",{className:aa.root},i.a.createElement(C.a,{container:!0,spacing:1},i.a.createElement(C.a,{item:!0,xs:6},i.a.createElement(ie.a,{fullWidth:!0,value:r,onChange:function(e){return l(e.target.value)},margin:"dense",id:"url",label:"Untappd URL",variant:"outlined"})),i.a.createElement(C.a,{item:!0,xs:6},i.a.createElement(_.a,{fullWidth:!0,onClick:function(){var e="https://cors-anywhere.herokuapp.com/",a=r;je.get(e+a).then((function(e){var a=Ce.load(e.data);m(a("div.name").children("h1").text()),h(a("p.brewery").text()),O(a("p.style").text()),J(a("p.abv").text().replace(/[^\d.-]/g,"")),G((function(){return""===a("p.ibu").text().replace(/[^\d.-]/g,"")?0:a("p.ibu").text().replace(/[^\d.-]/g,"")})),U(a("span.num").text().replace(/[^\d.-]/g,"")),x(a("div.beer-descrption-read-less").text()),X(a("a.label").children("img").attr("src")),Ne(a("a.label").children("img").attr("src"),(function(e){ae(1==e)}))})).catch((function(e){console.log(e)})).then((function(){}));je.get(e+a)},variant:"contained",className:aa.button},"Import Beer info")),i.a.createElement(C.a,{item:!0,xs:12},i.a.createElement(j.a,null)),i.a.createElement(C.a,{item:!0,xs:6},i.a.createElement(ie.a,{fullWidth:!0,value:s,onChange:function(e){return m(e.target.value)},margin:"dense",id:"title",label:"Title",variant:"outlined"})),i.a.createElement(C.a,{item:!0,xs:6},i.a.createElement(ie.a,{fullWidth:!0,value:g,onChange:function(e){return h(e.target.value)},margin:"dense",id:"brewery",label:"Brewery",variant:"outlined"})),i.a.createElement(C.a,{item:!0,xs:12},i.a.createElement(ie.a,{fullWidth:!0,value:f,onChange:function(e){return x(e.target.value)},margin:"dense",id:"description",label:"Description",multiline:!0,rows:3,variant:"outlined"})),i.a.createElement(C.a,{item:!0,xs:6},i.a.createElement(ie.a,{fullWidth:!0,value:y,onChange:function(e){return O(e.target.value)},margin:"dense",id:"type",label:"Type",variant:"outlined"})),i.a.createElement(C.a,{item:!0,xs:6},i.a.createElement(ie.a,{fullWidth:!0,value:N,onChange:function(e){return U(e.target.value)},margin:"dense",id:"rating",label:"Rating",variant:"outlined"})),i.a.createElement(C.a,{item:!0,xs:4},i.a.createElement(ie.a,{fullWidth:!0,value:L,onChange:function(e){return D(e.target.value)},margin:"dense",id:"price",label:"Price",variant:"outlined"})),i.a.createElement(C.a,{item:!0,xs:4},i.a.createElement(ie.a,{fullWidth:!0,value:H,onChange:function(e){return J(e.target.value)},margin:"dense",id:"alcohol",label:"Alcohol rate",variant:"outlined"})),i.a.createElement(C.a,{item:!0,xs:4},i.a.createElement(ie.a,{fullWidth:!0,value:q,onChange:function(e){return G(e.target.value)},margin:"dense",id:"ibu",label:"IBU",variant:"outlined"})),i.a.createElement(C.a,{item:!0,xs:12},ee?i.a.createElement("img",{src:K,width:"100",height:"100"}):null),i.a.createElement(C.a,{item:!0,xs:12},i.a.createElement(ie.a,{fullWidth:!0,value:K,onChange:function(e){X(e.target.value),Ne(e.target.value,(function(e){ae(1==e)}))},margin:"dense",id:"imageURL",label:"Image URL",variant:"outlined"}))))),i.a.createElement(le.a,null,i.a.createElement(_.a,{onClick:na,color:"primary"},"Cancel"),i.a.createElement(_.a,{onClick:function(){var e={beerTitle:s,beerBrewery:g,beerDescription:f,beerType:y,beerRating:N,beerPrice:L,beerAlcohol:H,beerIBU:q,beerImage:K};je.post("/api/add/beers",e).then((function(e){Pe.push(e.data),Ue([].concat(Pe))})).catch((function(e){console.log(e)})),l(""),m(""),h(""),x(""),O(""),U(""),D(""),J(""),G(""),X(""),ae(!1),he(!1)},color:"primary"},"Create")))),i.a.createElement("div",{className:aa.root},i.a.createElement(se.a,{className:aa.paper},i.a.createElement(R.a,{className:Object(B.a)(ta.root,Object(p.a)({},ta.highlight,Ve.length>0))},Ve.length>0?i.a.createElement(v.a,{className:ta.title,color:"inherit",variant:"subtitle1",component:"div"},Ve.length," selected"):i.a.createElement(v.a,{className:ta.title,variant:"h6",id:"tableTitle",component:"div"},"Beers"),Ve.length>0?i.a.createElement(xe.a,{title:"Delete"},i.a.createElement(M.a,{"aria-label":"delete",onClick:function(e){je.delete("/api/delete/beers",{data:Ve});for(var a=0;a<Pe.length;a++){var t=Pe[a];-1!==Ve.indexOf(t._id)&&(Pe.splice(a,1),a--)}Ue([].concat(Pe)),qe([])}},i.a.createElement(we.a,null))):i.a.createElement(xe.a,{title:"Filter list"},i.a.createElement(M.a,{"aria-label":"filter list"},i.a.createElement(ke.a,null)))),i.a.createElement(pe.a,null,i.a.createElement(ue.a,{className:aa.table,"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table"},i.a.createElement(We,{classes:aa,numSelected:Ve.length,order:De,orderBy:Fe,onSelectAllClick:function(e){if(e.target.checked){var a=ye.map((function(e){return e._id}));qe(a)}else qe([])},onRequestSort:function(e,a){_e(Fe===a&&"asc"===De?"desc":"asc"),He(a)},rowCount:ye.length}),i.a.createElement(de.a,null,function(e,a){var t=e.map((function(e,a){return[e,a]}));return t.sort((function(e,t){var n=a(e[0],t[0]);return 0!==n?n:e[1]-t[1]})),t.map((function(e){return e[0]}))}(ye,function(e,a){return"desc"===e?function(e,t){return Be(e,t,a)}:function(e,t){return-Be(e,t,a)}}(De,Fe)).slice($e*Ze,$e*Ze+Ze).map((function(e,a){var t,n=(t=e._id,-1!==Ve.indexOf(t)),r="enhanced-table-checkbox-".concat(a);return i.a.createElement(be.a,{hover:!0,role:"checkbox","aria-checked":n,tabIndex:-1,key:e._id,selected:n},i.a.createElement(ge.a,{padding:"checkbox"},i.a.createElement(ve.a,{onClick:function(a){return function(e,a){var t=Ve.indexOf(a),n=[];-1===t?n=n.concat(Ve,a):0===t?n=n.concat(Ve.slice(1)):t===Ve.length-1?n=n.concat(Ve.slice(0,-1)):t>0&&(n=n.concat(Ve.slice(0,t),Ve.slice(t+1))),qe(n)}(0,e._id)},checked:n,inputProps:{"aria-labelledby":r}})),i.a.createElement(ge.a,{component:"th",id:r,scope:"row",padding:"none"},e.title),i.a.createElement(ge.a,{align:"right"},e.brewery),i.a.createElement(ge.a,{align:"right"},e.alcohol),i.a.createElement(ge.a,{align:"right"},e.price),i.a.createElement(ge.a,{align:"right"},Oe(e.created).format("YYYY-MM-DD")))})),ia>0&&i.a.createElement(be.a,{style:{height:53*ia}},i.a.createElement(ge.a,{colSpan:6}))))),i.a.createElement(Ee.a,{rowsPerPageOptions:[10,25],component:"div",count:ye.length,rowsPerPage:Ze,page:$e,onChangePage:function(e,a){Ke(a)},onChangeRowsPerPage:function(e){ea(parseInt(e.target.value,10)),Ke(0)}}))))}function Be(e,a,t){return a[t]<e[t]?-1:a[t]>e[t]?1:0}je.get("/api/get/beers").then((function(e){for(var a in e.data){var t=e.data[a];Pe.push(t)}})).catch((function(e){console.log(e)})).then((function(){}));var Te=[{id:"title",numeric:!1,disablePadding:!0,label:"Title"},{id:"brewery",numeric:!1,disablePadding:!1,label:"Brewery"},{id:"alcohol",numeric:!0,disablePadding:!1,label:"Alcohol rate"},{id:"price",numeric:!0,disablePadding:!1,label:"Price"},{id:"date",numeric:!0,disablePadding:!1,label:"Creation date"}];function We(e){var a=e.classes,t=e.onSelectAllClick,n=e.order,r=e.orderBy,l=e.numSelected,o=e.rowCount,c=e.onRequestSort;return i.a.createElement(he.a,null,i.a.createElement(be.a,null,i.a.createElement(ge.a,{padding:"checkbox"},i.a.createElement(ve.a,{indeterminate:l>0&&l<o,checked:o>0&&l===o,onChange:t,inputProps:{"aria-label":"select all desserts"}})),Te.map((function(e){return i.a.createElement(ge.a,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:r===e.id&&n},i.a.createElement(fe.a,{active:r===e.id,direction:r===e.id?n:"asc",onClick:(t=e.id,function(e){c(e,t)})},e.label,r===e.id?i.a.createElement("span",{className:a.visuallyHidden},"desc"===n?"sorted descending":"sorted ascending"):null));var t}))))}var Le=Object(b.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(me.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}}));var Re=Object(b.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(U.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(p.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function De(e){var a=Re(),t=i.a.useState(i.a.createElement("div",null,"hej")),n=Object(k.a)(t,2),r=n[0],l=n[1],o=i.a.useState(!0),c=Object(k.a)(o,2),s=c[0],m=c[1];Object(B.a)(a.paper,a.fixedHeight);return i.a.createElement("div",{className:a.root},i.a.createElement(T.a,null),i.a.createElement(L.a,{position:"absolute",className:Object(B.a)(a.appBar,s&&a.appBarShift)},i.a.createElement(R.a,{className:a.toolbar},i.a.createElement(M.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){m(!0)},className:Object(B.a)(a.menuButton,s&&a.menuButtonHidden)},i.a.createElement(F.a,null)),i.a.createElement(v.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:a.title},"Signed in as: ",e.data.state.signedInUser),i.a.createElement(_.a,{color:"inherit",onClick:e.data.logout},"Log out"))),i.a.createElement(W.a,{variant:"permanent",classes:{paper:Object(B.a)(a.drawerPaper,!s&&a.drawerPaperClose)},open:s},i.a.createElement("div",{className:a.toolbarIcon},i.a.createElement(M.a,{onClick:function(){m(!1)}},i.a.createElement(J.a,null))),i.a.createElement(j.a,null),i.a.createElement(D.a,null,i.a.createElement("div",null,i.a.createElement(z.a,{button:!0,onClick:function(){l(i.a.createElement(Ue,null))}},i.a.createElement(V.a,null,i.a.createElement(te.a,null)),i.a.createElement(q.a,{primary:"Beers"})),i.a.createElement(z.a,{button:!0,onClick:function(){l(i.a.createElement("div",null,"food"))}},i.a.createElement(V.a,null,i.a.createElement(K.a,null)),i.a.createElement(q.a,{primary:"Food"})),i.a.createElement(z.a,{button:!0},i.a.createElement(V.a,null,i.a.createElement(Q.a,null)),i.a.createElement(q.a,{primary:"Drinks"})),i.a.createElement(z.a,{button:!0},i.a.createElement(V.a,null,i.a.createElement(te.a,null)),i.a.createElement(q.a,{primary:"Ciders"})),i.a.createElement(z.a,{button:!0},i.a.createElement(V.a,null,i.a.createElement(ee.a,null)),i.a.createElement(q.a,{primary:"Soda"})),i.a.createElement(z.a,{button:!0},i.a.createElement(V.a,null,i.a.createElement(Q.a,null)),i.a.createElement(q.a,{primary:"Wine"})))),i.a.createElement(j.a,null),i.a.createElement(D.a,null,ne)),i.a.createElement("main",{className:a.content},i.a.createElement("div",{className:a.appBarSpacer}),i.a.createElement(h.a,{maxWidth:"lg",className:a.container},i.a.createElement(C.a,{container:!0,spacing:3},r))))}var _e=t(616),Me=t(604),Ae=t(608),Fe=t(261),He=t.n(Fe);var Je=Object(b.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function ze(e){var a=Je();return i.a.createElement(h.a,{component:"main",maxWidth:"xs"},i.a.createElement(T.a,null),i.a.createElement("div",{className:a.paper},i.a.createElement(_e.a,{className:a.avatar},i.a.createElement(He.a,null)),i.a.createElement(v.a,{component:"h1",variant:"h5"},"Sign in"),e.data.state.signInError?i.a.createElement(Ae.a,{severity:"error"},"Wrong username or password"):null,i.a.createElement("form",{className:a.form,noValidate:!0},i.a.createElement(ie.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:e.data.state.signInEmail,onChange:e.data.onTextboxChangeSignInEmail}),i.a.createElement(ie.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:e.data.state.signInPassword,onChange:e.data.onTextboxChangeSignInPassword,autoComplete:"current-password"}),i.a.createElement(Me.a,{control:i.a.createElement(ve.a,{value:"remember",color:"primary"}),label:"Remember me"}),i.a.createElement(_.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,onClick:e.data.onSignIn},"Sign In"))),i.a.createElement(E.a,{mt:8}))}function Ve(e){if(!e)return null;try{var a=localStorage.getItem(e);return a?JSON.parse(a):null}catch(t){return null}}var qe=function(e){Object(d.a)(t,e);var a=Object(g.a)(t);function t(e){var n;return Object(m.a)(this,t),(n=a.call(this,e)).state={isLoading:!0,token:"",signedInUser:"",signUpError:"",signInError:"",signInEmail:"",signInPassword:"",signUpEmail:"",signUpPassword:""},n.onTextboxChangeSignInEmail=n.onTextboxChangeSignInEmail.bind(Object(P.a)(n)),n.onTextboxChangeSignInPassword=n.onTextboxChangeSignInPassword.bind(Object(P.a)(n)),n.onTextboxChangeSignUpEmail=n.onTextboxChangeSignUpEmail.bind(Object(P.a)(n)),n.onTextboxChangeSignUpPassword=n.onTextboxChangeSignUpPassword.bind(Object(P.a)(n)),n.onSignIn=n.onSignIn.bind(Object(P.a)(n)),n.onSignUp=n.onSignUp.bind(Object(P.a)(n)),n.logout=n.logout.bind(Object(P.a)(n)),n}return Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,a=Ve("the_main_app");if(a&&a.token){var t=a.token;fetch("/api/account/verify?token="+t).then((function(e){return e.json()})).then((function(a){a.success?(e.setState({token:t,isLoading:!1}),fetch("api/account/getusername?token="+t).then((function(e){return e.json()})).then((function(a){a.success&&(console.log(a.username),e.setState({signedInUser:a.username}))}))):e.setState({isLoading:!1})}))}else this.setState({isLoading:!1});console.log(this.state.signedInUser)}},{key:"onTextboxChangeSignInEmail",value:function(e){this.setState({signInEmail:e.target.value})}},{key:"onTextboxChangeSignInPassword",value:function(e){this.setState({signInPassword:e.target.value})}},{key:"onTextboxChangeSignUpEmail",value:function(e){this.setState({signUpEmail:e.target.value})}},{key:"onTextboxChangeSignUpPassword",value:function(e){this.setState({signUpPassword:e.target.value})}},{key:"onSignUp",value:function(){var e=this,a=this.state,t=a.signUpEmail,n=a.signUpPassword;this.setState({isLoading:!0}),fetch("/api/account/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:n})}).then((function(e){return e.json()})).then((function(a){console.log("json",a),a.success?e.setState({signUpError:a.message,isLoading:!1,signUpEmail:"",signUpPassword:""}):e.setState({signUpError:a.message,isLoading:!1})}))}},{key:"onSignIn",value:function(){var e=this,a=this.state,t=a.signInEmail,n=a.signInPassword;this.setState({isLoading:!0}),fetch("/api/account/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:n})}).then((function(e){return e.json()})).then((function(a){console.log("json",a),a.success?(!function(e,a){e||console.error("Error: Key is missing");try{localStorage.setItem(e,JSON.stringify(a))}catch(t){console.error(t)}}("the_main_app",{token:a.token}),console.log(a.token),e.setState({signInError:a.message,isLoading:!1,signInPassword:"",signInEmail:"",token:a.token})):e.setState({signInError:a.message,isLoading:!1})}))}},{key:"logout",value:function(){var e=this;this.setState({isLoading:!0});var a=Ve("the_main_app");if(a&&a.token){var t=a.token;fetch("/api/account/logout?token="+t).then((function(e){return e.json()})).then((function(a){a.success?e.setState({token:"",isLoading:!1}):e.setState({isLoading:!1})}))}else this.setState({isLoading:!1})}},{key:"render",value:function(){var e=this.state,a=e.isLoading,t=e.token;e.signInError,e.signInEmail,e.signInPassword,e.signUpEmail,e.signUpPassword,e.signUpError;return a?i.a.createElement("div",null,i.a.createElement(N.a,null),i.a.createElement(v.a,{variant:"h6"},"Loading...")):t?i.a.createElement(De,{data:this}):i.a.createElement(ze,{data:this})}}]),t}(n.Component);Object(r.render)(i.a.createElement(l.a,null,i.a.createElement(c,null,i.a.createElement(o.c,null,i.a.createElement(o.a,{exact:!0,path:"/",component:y}),i.a.createElement(o.a,{path:"/admin",component:qe}),i.a.createElement(o.a,{path:"/beers",component:function(){var e=i.a.useState([]),a=Object(k.a)(e,2),t=a[0],n=a[1];return i.a.useEffect((function(){O.get("/api/get/beers").then((function(e){var a=[];for(var t in e.data){var i=e.data[t];a.push(i)}n(a)})).catch((function(e){console.log(e)})).then((function(){}))}),[t]),i.a.createElement(h.a,{maxWidth:"xs"},i.a.createElement(j.a,null),t.map((function(e){return i.a.createElement(I,{key:e._id,properties:e})})))}}),i.a.createElement(o.a,{component:s})))),document.getElementById("app"))}},[[291,1,2]]]);
//# sourceMappingURL=main.ec7dbbb4.chunk.js.map